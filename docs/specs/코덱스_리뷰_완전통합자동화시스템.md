# 완전통합자동화시스템 명세 vs 코드 리뷰 (Codex)

## 발견된 핵심 이슈
- 명세서가 `FileOrganizerGUI`를 기준으로 한 UI 흐름과 버튼 이름(`automation_button`, `update_status`)을 전제로 하지만, 실제 구현은 `UltimateAutomationSystem` 단일 클래스로 다르고 해당 위젯이 존재하지 않음 (`ultimate_automation_system.py:41-120`). 또한 이미지 경로가 `E:/VSC/...`로 하드코딩돼 복원이 어려움 (`ultimate_automation_system.py:74-78`).
- 문서에 설명된 FIFO 큐 및 중복 제어(`get_next_pending_store`, `clean_old_pending_stores`, `get_file_hash`)는 명세에만 있으며, 실제 코드에서는 `self.pending_stores`만 초기화되고 사용되지 않음 (`ultimate_automation_system.py:64`). 결과적으로 중복 방지와 매칭 로직이 부재.
- 명세가 전제로 한 데이터베이스 생성/추가/수정 함수(`add_to_database`, `update_database_entry`, `load_database`)가 전혀 구현돼 있지 않아 `pandas`, `openpyxl` 임포트가 사용되지 않음 (`ultimate_automation_system.py:31-33`).
- 설치 가이드가 요구하는 패키지 목록과 실제 `requirements.txt`가 불일치. 문서에는 `pyautogui`, `pyperclip`, `selenium`, `requests` 등이 필요하다고 하지만 `requirements.txt`에는 없음 (`requirements.txt:1-11`).
- `config/config.yaml`과 `client_discovery/config.json`의 구조가 명세에 적힌 키들과 다름. 명세는 `file_organizer.button_confidence`, `selenium.driver_path` 등을 언급하지만 실제 설정 파일에는 존재하지 않음 (`config/config.yaml:1-39`, `client_discovery/config.json:1-40`).
- 명세에서 언급한 런타임/메모리/긴급중단 모니터(`SafetyMonitor`)가 실제 코드에는 없음. 현재 `core/safety_monitor.py`는 API 비용 추적만 담당 (`core/safety_monitor.py:1-80`).

## 권장 후속 조치
1. 명세와 코드를 어느 쪽 기준으로 맞출지 결정한 뒤, 그 방향에 맞게 UI/로직을 재구성하거나 문서를 갱신.
2. PyAutoGUI 자동화에 필요한 이미지 자산을 프로젝트에 포함시키고 상대 경로로 참조하도록 수정.
3. 데이터베이스 관리, 파일 중복 방지, FIFO 매칭 등 명세에 명시된 기능을 구현하거나 제거.
4. `requirements.txt`, `config/config.yaml`, `client_discovery/config.json` 등 설정 파일을 실제 사용되는 구성요소와 일치시킴.
5. `core/safety_monitor` 모듈을 확장해 런타임 제한, 메모리 감시, 긴급 중단 기능을 추가하거나 별도 모듈로 구현.
6. 변경 사항을 README 및 기술 명세 문서에 반영.

---
정리 일자: 2025-09-16
작성: Codex
